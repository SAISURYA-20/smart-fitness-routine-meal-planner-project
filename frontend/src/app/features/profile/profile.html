<div class="profile-container">
  <mat-card class="profile-card">
    <h2>User Profile</h2>

    <form [formGroup]="profileForm" (ngSubmit)="onSave()">

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Full Name</mat-label>
        <input matInput formControlName="name">
        <mat-error *ngIf="profileForm.get('name')?.hasError('required')">
          Full Name is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Age</mat-label>
        <input matInput type="number" formControlName="age">
        <mat-error *ngIf="profileForm.get('age')?.hasError('required')">
          Age is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Gender</mat-label>
        <mat-select formControlName="gender">
          <mat-option value="male">Male</mat-option>
          <mat-option value="female">Female</mat-option>
          <mat-option value="other">Other</mat-option>
        </mat-select>
        <mat-error *ngIf="profileForm.get('gender')?.hasError('required')">
          Gender is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Height (cm)</mat-label>
        <input matInput type="number" formControlName="height">
        <mat-error *ngIf="profileForm.get('height')?.hasError('required')">
          Height is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Weight (kg)</mat-label>
        <input matInput type="number" formControlName="weight">
        <mat-error *ngIf="profileForm.get('weight')?.hasError('required')">
          Weight is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Fitness Goal</mat-label>
        <mat-select formControlName="goal">
          <mat-option value="weight_loss">Weight Loss</mat-option>
          <mat-option value="muscle_gain">Muscle Gain</mat-option>
          <mat-option value="maintenance">Maintenance</mat-option>
        </mat-select>
        <mat-error *ngIf="profileForm.get('goal')?.hasError('required')">
          Fitness Goal is required
        </mat-error>
      </mat-form-field>

      <div *ngIf="loadingProfile" class="loading-message">
        Loading profile...
      </div>

      <button mat-raised-button color="primary" class="full-width" type="submit"
        [disabled]="loading || profileForm.invalid || loadingProfile">
        <span *ngIf="!loading">Save Profile</span>
        <span *ngIf="loading">Saving...</span>
      </button>

    </form>
  </mat-card>
</div>
